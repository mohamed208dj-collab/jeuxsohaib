<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ | Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø´Ø§Ù…Ù„Ø© 2026</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root { --primary: #2563eb; --bg: #f8fafc; --card: #ffffff; }
        .dark { --bg: #0f172a; --card: #1e293b; --text: #f1f5f9; }
        body { font-family: 'Tajawal', sans-serif; background-color: var(--bg); transition: 0.3s; }
        .glass-card { background: var(--card); border-radius: 2rem; border: 1px solid rgba(0,0,0,0.05); shadow: 0 10px 30px rgba(0,0,0,0.05); }
        .hidden-section { display: none; }
        .done { text-decoration: line-through; opacity: 0.5; }
    </style>
</head>
<body class="min-h-screen text-slate-800 dark:text-slate-100">

    <section id="loginPage" class="fixed inset-0 z-[5000] bg-slate-900 flex items-center justify-center p-6">
        <div class="max-w-md w-full text-center animate__animated animate__zoomIn">
            <div class="text-7xl mb-6">ğŸ¯</div>
            <h1 class="text-4xl font-black text-white mb-8 italic">Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ 2026</h1>
            <input type="text" id="nameInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ ÙŠØ§ Ø¨Ø·Ù„..." 
                class="w-full p-5 rounded-2xl bg-white/10 border-2 border-white/20 text-white focus:bg-white focus:text-slate-900 outline-none text-center font-bold mb-4 shadow-2xl">
            <button onclick="login()" class="w-full p-5 rounded-2xl bg-blue-600 text-white font-black text-xl hover:bg-blue-500 transition-all shadow-xl">Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ ğŸš€</button>
        </div>
    </section>

    <div id="dashboard" class="hidden-section flex flex-col lg:flex-row min-h-screen">
        
        <aside class="w-full lg:w-72 bg-white dark:bg-slate-800 p-6 shadow-xl lg:sticky lg:top-0 lg:h-screen">
            <div class="flex items-center justify-between mb-10">
                <h2 class="text-2xl font-black text-blue-600 italic">Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ</h2>
                <button onclick="toggleDark()" class="p-2 rounded-xl bg-slate-100 dark:bg-slate-700">ğŸŒ™</button>
            </div>
            
            <nav class="space-y-3">
                <button class="w-full text-right p-4 rounded-xl bg-blue-50 dark:bg-blue-900/20 text-blue-600 font-bold">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                <div class="p-4 bg-slate-50 dark:bg-slate-700/50 rounded-2xl">
                    <p class="text-[10px] uppercase font-bold text-slate-400 mb-2">Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨Ø§Ùƒ</p>
                    <div id="countdown" class="text-sm font-black text-red-500">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨...</div>
                </div>
            </nav>

            <div class="mt-10 p-4 border-t border-slate-100 dark:border-slate-700">
                <p class="text-xs text-slate-400 mb-2 font-bold">Ø­ÙƒÙ…Ø© Ø§Ù„ÙŠÙˆÙ…:</p>
                <p id="quote" class="text-xs italic font-medium leading-relaxed italic">"Ø§Ù„Ù†Ø¬Ø§Ø­ Ù‡Ùˆ Ù…Ø¬Ù…ÙˆØ¹ Ù…Ø¬Ù‡ÙˆØ¯Ø§Øª ØµØºÙŠØ±Ø© ØªØªÙƒØ±Ø± ÙƒÙ„ ÙŠÙˆÙ…."</p>
            </div>
        </aside>

        <main class="flex-1 p-4 md:p-8 space-y-8">
            <header class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                <h2 class="text-3xl font-black">Ø£Ù‡Ù„Ø§Ù‹ØŒ <span id="userName" class="text-blue-600"></span> ğŸ”¥</h2>
                <div class="flex gap-2">
                    <button onclick="addSubject()" class="bg-blue-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg">+ Ù…Ø§Ø¯Ø©</button>
                    <button onclick="logout()" class="bg-red-50 text-red-500 px-5 py-2 rounded-xl font-bold">Ø®Ø±ÙˆØ¬</button>
                </div>
            </header>

            <div class="grid grid-cols-1 xl:grid-cols-3 gap-8">
                <div class="glass-card p-8 bg-white dark:bg-slate-800 shadow-xl border-t-8 border-blue-600 text-center">
                    <p class="text-xs font-bold text-slate-400 mb-4 tracking-widest uppercase">Ù…Ø¤Ù‚Øª Ø§Ù„ØªØ±ÙƒÙŠØ²</p>
                    <div class="text-6xl font-black mb-8 font-mono" id="timer">25:00</div>
                    <div class="flex gap-2 justify-center">
                        <button id="startBtn" onclick="toggleTimer()" class="px-8 py-3 bg-blue-600 text-white rounded-xl font-bold shadow-lg">Ø§Ø¨Ø¯Ø£</button>
                        <button onclick="resetTimer()" class="p-3 bg-slate-100 dark:bg-slate-700 rounded-xl">ğŸ”„</button>
                    </div>
                </div>

                <div class="xl:col-span-2 glass-card p-8 bg-white dark:bg-slate-800 shadow-xl">
                    <h3 class="font-black text-xl mb-4">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ© âœ…</h3>
                    <div class="flex gap-2 mb-6">
                        <input type="text" id="taskInput" placeholder="ÙˆØ§Ø´ Ø±Ø§Ø­ ØªØ¯ÙŠØ± Ø¯ÙˆÙƒØ§ØŸ" class="flex-1 p-3 rounded-xl bg-slate-50 dark:bg-slate-700 outline-none">
                        <button onclick="addTask()" class="bg-blue-600 text-white px-6 rounded-xl font-bold">Ø¥Ø¶Ø§ÙØ©</button>
                    </div>
                    <div id="taskList" class="space-y-3 max-h-48 overflow-y-auto">
                        </div>
                </div>
            </div>

            <div>
                <h3 class="text-2xl font-black mb-6 italic">Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø®ØµÙŠ</h3>
                <div id="subjectGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    </div>
            </div>
        </main>
    </div>

    <script>
        // --- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù„ÙˆØ¬ÙŠÙƒ ---
        let timerSeconds = 25 * 60, timerId = null;
        let subjects = JSON.parse(localStorage.getItem('subjects')) || [];
        let tasks = JSON.parse(localStorage.getItem('tasks')) || [];

        function login() {
            const name = document.getElementById('nameInput').value;
            if(!name) return alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ ÙŠØ§ Ø¨Ø·Ù„!");
            localStorage.setItem('user', name);
            renderApp();
        }

        function renderApp() {
            document.getElementById('loginPage').classList.add('animate__animated', 'animate__fadeOut');
            setTimeout(() => {
                document.getElementById('loginPage').style.display = 'none';
                document.getElementById('dashboard').classList.remove('hidden-section');
                document.getElementById('userName').innerText = localStorage.getItem('user');
                loadSubjects();
                loadTasks();
                startCountdown();
            }, 500);
        }

        // --- Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù‡Ø§Ù… (To-Do) ---
        function addTask() {
            const input = document.getElementById('taskInput');
            if(!input.value) return;
            tasks.push({ id: Date.now(), text: input.value, done: false });
            input.value = '';
            saveAndRenderTasks();
        }

        function toggleTask(id) {
            tasks = tasks.map(t => t.id === id ? {...t, done: !t.done} : t);
            saveAndRenderTasks();
        }

        function loadTasks() {
            const list = document.getElementById('taskList');
            list.innerHTML = tasks.map(t => `
                <div class="flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-xl animate__animated animate__fadeIn">
                    <span class="${t.done ? 'done' : ''} font-bold">${t.text}</span>
                    <div class="flex gap-2">
                        <button onclick="toggleTask(${t.id})" class="text-green-500 font-bold text-xs">${t.done ? 'Ø¥Ù„ØºØ§Ø¡' : 'ØªÙ…'}</button>
                        <button onclick="deleteTask(${t.id})" class="text-red-500 font-bold text-xs">Ø­Ø°Ù</button>
                    </div>
                </div>
            `).join('');
        }

        function deleteTask(id) {
            tasks = tasks.filter(t => t.id !== id);
            saveAndRenderTasks();
        }

        function saveAndRenderTasks() {
            localStorage.setItem('tasks', JSON.stringify(tasks));
            loadTasks();
        }

        // --- Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ§Ø¯ ---
        function addSubject() {
            const name = prompt("Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø¯Ø©:");
            const lesson = prompt("ÙˆØ§Ø´ Ø±Ø§Ø­ ØªØ±Ø§Ø¬Ø¹ØŸ");
            if(name && lesson) {
                subjects.push({ id: Date.now(), name, lesson });
                localStorage.setItem('subjects', JSON.stringify(subjects));
                loadSubjects();
            }
        }

        function loadSubjects() {
            const grid = document.getElementById('subjectGrid');
            grid.innerHTML = subjects.map(s => `
                <div class="glass-card p-6 bg-white dark:bg-slate-800 animate__animated animate__zoomIn">
                    <div class="flex justify-between items-start mb-4 text-2xl">ğŸ“š
                        <button onclick="deleteSubject(${s.id})" class="text-xs text-red-400">Ø­Ø°Ù</button>
                    </div>
                    <h4 class="text-xl font-black mb-1">${s.name}</h4>
                    <p class="text-slate-400 text-sm italic font-medium">${s.lesson}</p>
                </div>
            `).join('');
        }

        function deleteSubject(id) {
            subjects = subjects.filter(s => s.id !== id);
            localStorage.setItem('subjects', JSON.stringify(subjects));
            loadSubjects();
        }

        // --- Ø§Ù„Ù…Ø¤Ù‚Øª ÙˆØ§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª ---
        function toggleTimer() {
            const btn = document.getElementById('startBtn');
            if(timerId) {
                clearInterval(timerId); timerId = null;
                btn.innerText = "ÙˆØ§ØµÙ„"; btn.className = "px-8 py-3 bg-orange-500 text-white rounded-xl font-bold shadow-lg";
            } else {
                timerId = setInterval(() => {
                    timerSeconds--;
                    updateTimerDisplay();
                    if(timerSeconds <= 0) {
                        clearInterval(timerId);
                        new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg').play();
                        alert("Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¬Ù„Ø³Ø©! Ø®Ø° Ø§Ø³ØªØ±Ø§Ø­Ø©.");
                    }
                }, 1000);
                btn.innerText = "ØªÙˆÙ‚Ù"; btn.className = "px-8 py-3 bg-red-600 text-white rounded-xl font-bold shadow-lg";
            }
        }

        function updateTimerDisplay() {
            const m = Math.floor(timerSeconds / 60);
            const s = timerSeconds % 60;
            document.getElementById('timer').innerText = `${m}:${s < 10 ? '0'+s : s}`;
        }

        function resetTimer() {
            clearInterval(timerId); timerId = null;
            timerSeconds = 25 * 60; updateTimerDisplay();
            document.getElementById('startBtn').innerText = "Ø§Ø¨Ø¯Ø£";
            document.getElementById('startBtn').className = "px-8 py-3 bg-blue-600 text-white rounded-xl font-bold shadow-lg";
        }

        function startCountdown() {
            const examDate = new Date("June 8, 2026 08:00:00").getTime();
            setInterval(() => {
                const now = new Date().getTime();
                const diff = examDate - now;
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                document.getElementById('countdown').innerText = `${days} ÙŠÙˆÙ… Ùˆ ${hours} Ø³Ø§Ø¹Ø©`;
            }, 1000);
        }

        function toggleDark() { document.body.classList.toggle('dark'); }
        function logout() { localStorage.clear(); location.reload(); }

        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        if(localStorage.getItem('user')) renderApp();
    </script>
</body>
</html>
